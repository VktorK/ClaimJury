<?php

use yii\db\Migration;

class m250909_185249_fill_blog_articles extends Migration
{
    /**
     * {@inheritdoc}
     */
    public function safeUp()
    {
        // Получаем ID категорий
        $legalTechId = $this->db->createCommand('SELECT id FROM {{%blog_categories}} WHERE slug = "legal-tech"')->queryScalar();
        $civilLawId = $this->db->createCommand('SELECT id FROM {{%blog_categories}} WHERE slug = "civil-law"')->queryScalar();
        $arbitrationId = $this->db->createCommand('SELECT id FROM {{%blog_categories}} WHERE slug = "arbitration"')->queryScalar();
        $corporateLawId = $this->db->createCommand('SELECT id FROM {{%blog_categories}} WHERE slug = "corporate-law"')->queryScalar();
        $legalNewsId = $this->db->createCommand('SELECT id FROM {{%blog_categories}} WHERE slug = "legal-news"')->queryScalar();
        $practicalTipsId = $this->db->createCommand('SELECT id FROM {{%blog_categories}} WHERE slug = "practical-tips"')->queryScalar();

        // Создаем статьи
        $articles = [
            [
                'title' => 'Искусственный интеллект в юридической практике: настоящее и будущее',
                'slug' => 'ai-in-legal-practice',
                'excerpt' => 'Как технологии искусственного интеллекта меняют юридическую отрасль и что ждет нас в будущем.',
                'content' => '<h2>Введение</h2><p>Искусственный интеллект (ИИ) становится неотъемлемой частью современной юридической практики. От автоматизации документооборота до анализа прецедентов — технологии ИИ открывают новые возможности для юристов.</p><h2>Текущие применения ИИ в праве</h2><p>Сегодня ИИ используется в следующих областях:</p><ul><li><strong>Анализ документов</strong> — автоматическое извлечение ключевой информации из договоров и соглашений</li><li><strong>Поиск прецедентов</strong> — быстрый поиск релевантных судебных решений</li><li><strong>Предсказательная аналитика</strong> — оценка вероятности успеха дела</li><li><strong>Автоматизация рутинных задач</strong> — составление типовых документов</li></ul><h2>Преимущества внедрения ИИ</h2><p>Использование ИИ в юридической практике приносит значительные преимущества:</p><ul><li>Сокращение времени на обработку документов</li><li>Повышение точности анализа</li><li>Снижение человеческих ошибок</li><li>Улучшение качества юридических услуг</li></ul><h2>Вызовы и ограничения</h2><p>Несмотря на преимущества, внедрение ИИ сталкивается с рядом вызовов:</p><ul><li>Необходимость обучения персонала</li><li>Вопросы конфиденциальности данных</li><li>Этические аспекты использования ИИ</li><li>Высокие затраты на внедрение</li></ul><h2>Заключение</h2><p>ИИ представляет собой мощный инструмент для современной юридической практики. Правильное внедрение и использование этих технологий может значительно повысить эффективность работы юристов и качество предоставляемых услуг.</p>',
                'image' => 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=400&fit=crop',
                'category_id' => $legalTechId,
                'status' => 1,
                'views' => 1250,
                'created_at' => time() - 86400 * 5,
                'updated_at' => time() - 86400 * 5,
            ],
            [
                'title' => 'Новые изменения в Гражданском кодексе: что нужно знать',
                'slug' => 'civil-code-changes-2024',
                'excerpt' => 'Обзор ключевых изменений в Гражданском кодексе РФ, вступивших в силу в 2024 году.',
                'content' => '<h2>Основные изменения</h2><p>В 2024 году в Гражданский кодекс РФ внесены существенные изменения, которые затрагивают различные аспекты гражданско-правовых отношений.</p><h2>Изменения в договорном праве</h2><p>Новые положения касаются:</p><ul><li>Порядка заключения договоров в электронной форме</li><li>Условий расторжения договоров</li><li>Ответственности за нарушение договорных обязательств</li></ul><h2>Изменения в наследственном праве</h2><p>Обновлены правила наследования, включая:</p><ul><li>Порядок составления завещаний</li><li>Права наследников</li><li>Сроки принятия наследства</li></ul><h2>Практические рекомендации</h2><p>Для юристов важно:</p><ul><li>Изучить новые нормы</li><li>Обновить типовые договоры</li><li>Проинформировать клиентов об изменениях</li></ul>',
                'image' => 'https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&h=400&fit=crop',
                'category_id' => $civilLawId,
                'status' => 1,
                'views' => 980,
                'created_at' => time() - 86400 * 3,
                'updated_at' => time() - 86400 * 3,
            ],
            [
                'title' => 'Как эффективно вести арбитражные дела: практические советы',
                'slug' => 'arbitration-case-management',
                'excerpt' => 'Практические рекомендации по ведению арбитражных дел от опытных юристов.',
                'content' => '<h2>Подготовка к процессу</h2><p>Успешное ведение арбитражного дела начинается с тщательной подготовки:</p><ul><li>Сбор и анализ всех документов</li><li>Изучение судебной практики</li><li>Подготовка правовой позиции</li></ul><h2>Составление процессуальных документов</h2><p>Важно правильно оформить:</p><ul><li>Исковое заявление</li><li>Отзыв на иск</li><li>Ходатайства</li><li>Жалобы</li></ul><h2>Участие в судебных заседаниях</h2><p>Эффективное участие в процессе требует:</p><ul><li>Тщательной подготовки к каждому заседанию</li><li>Умения аргументированно излагать позицию</li><li>Знания процессуальных особенностей</li></ul><h2>Работа с доказательствами</h2><p>Особое внимание следует уделить:</p><ul><li>Сбору доказательств</li><li>Их оценке</li><li>Представлению в суд</li></ul>',
                'image' => 'https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&h=400&fit=crop',
                'category_id' => $arbitrationId,
                'status' => 1,
                'views' => 750,
                'created_at' => time() - 86400 * 7,
                'updated_at' => time() - 86400 * 7,
            ],
            [
                'title' => 'Корпоративное управление в эпоху цифровизации',
                'slug' => 'corporate-governance-digitalization',
                'excerpt' => 'Как цифровые технологии влияют на корпоративное управление и какие изменения необходимы.',
                'content' => '<h2>Цифровизация корпоративного управления</h2><p>Современные технологии кардинально меняют подходы к корпоративному управлению.</p><h2>Ключевые тенденции</h2><ul><li>Автоматизация процессов принятия решений</li><li>Использование больших данных</li><li>Внедрение блокчейн-технологий</li></ul><h2>Вызовы и возможности</h2><p>Цифровизация создает как новые возможности, так и вызовы для корпоративного управления.</p>',
                'image' => 'https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=400&fit=crop',
                'category_id' => $corporateLawId,
                'status' => 1,
                'views' => 620,
                'created_at' => time() - 86400 * 10,
                'updated_at' => time() - 86400 * 10,
            ],
            [
                'title' => 'Новые требования к защите персональных данных в 2024 году',
                'slug' => 'personal-data-protection-2024',
                'excerpt' => 'Обзор новых требований к обработке и защите персональных данных.',
                'content' => '<h2>Обновленные требования</h2><p>В 2024 году вступили в силу новые требования к защите персональных данных.</p><h2>Основные изменения</h2><ul><li>Усиление требований к согласию</li><li>Новые обязанности операторов</li><li>Изменения в отчетности</li></ul><h2>Практические рекомендации</h2><p>Для соблюдения новых требований необходимо:</p><ul><li>Обновить политики конфиденциальности</li><li>Провести аудит обработки данных</li><li>Обучить персонал</li></ul>',
                'image' => 'https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop',
                'category_id' => $legalNewsId,
                'status' => 1,
                'views' => 890,
                'created_at' => time() - 86400 * 2,
                'updated_at' => time() - 86400 * 2,
            ],
            [
                'title' => '10 способов повысить эффективность юридической практики',
                'slug' => 'improve-legal-practice-efficiency',
                'excerpt' => 'Практические советы по оптимизации работы юридической компании.',
                'content' => '<h2>Автоматизация процессов</h2><p>Использование современных технологий для автоматизации рутинных задач.</p><h2>Управление временем</h2><p>Эффективные методы планирования и управления временем.</p><h2>Работа с клиентами</h2><p>Стратегии улучшения взаимодействия с клиентами.</p><h2>Обучение и развитие</h2><p>Важность непрерывного обучения и профессионального развития.</p>',
                'image' => 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=400&fit=crop',
                'category_id' => $practicalTipsId,
                'status' => 1,
                'views' => 1100,
                'created_at' => time() - 86400 * 1,
                'updated_at' => time() - 86400 * 1,
            ],
        ];

        foreach ($articles as $article) {
            $this->insert('{{%articles}}', $article);
        }
    }

    /**
     * {@inheritdoc}
     */
    public function safeDown()
    {
        echo "m250909_185249_fill_blog_articles cannot be reverted.\n";

        return false;
    }

    /*
    // Use up()/down() to run migration code without a transaction.
    public function up()
    {

    }

    public function down()
    {
        echo "m250909_185249_fill_blog_articles cannot be reverted.\n";

        return false;
    }
    */
}
